{% extends 'research/base.html' %} {% block content %}

<div class="col-lg-12">
  <div class="page-section">
    <!-- .section-block -->
    <div class="alert alert-primary has-icon alert-dismissible fade show">
      <p class="mb-0">
        Welcome <b>{{ user.first_name }} {{ user.last_name}}</b>. Please fill the form below to add a Research Project
      </p>
    </div>
  </div>
</div>
<!-- /.section-block -->
<!-- grid row -->
<hr />

<br />
<div class="page-section">
    <!-- .card-deck-xl -->
    <div class="card-deck-xl">
      <!-- .card -->
      <div class="col-lg-8">
            <div class="card card-fluid">
              <h6 class="card-header"> Adding Research Project </h6><!-- .card-body -->
              <div class="card-body">
                        <!-- form -->
                        <form action="#" method="POST" class="needs-validation">

                        {% csrf_token %}
                        
                        {% if user.is_authenticated %}
                        <input type="hidden" name="author_id" value="{{ user.id }}" class="form-control">
                        {% endif %}
                        <!-- .row -->
                        <div class="form-group">
                            <label for="tf1">Project Title <abbr Project Title="Required">*</abbr></label> 
                            <input type="text" name="title" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project title"> 
                        </div><!-- /.form-group -->
                        <div class="form-group">
                            <label for="tf1">Total Value <abbr Total Value="Required">*</abbr></label> 
                            <input type="text" name="total_value" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="in US$"> 
                        </div><!-- /.form-group -->
                        <!-- .form-group -->
                        <div class="form-group">
                            <label class="col-form-label" for="selDefault">Project Status<abbr Project Status="Required">*</abbr></label> 
                              <select class="custom-select" id="selDefault">
                                <option value=""> Choose... </option>
                                <option> Completed </option>
                                <option> In progress </option>
                            </select>
                        </div><!-- /.form-group --> 
                        <div class="form-group">
                            <label class="col-form-label" for="selDefault">Project Type<abbr Project Type="Required">*</abbr></label> 
                                <select class="custom-select" id="selDefault">
                                <option value=""> Choose... </option>
                                <option> Consultancy </option>
                                <option> Grant based </option>
                            </select>
                        </div><!-- /.form-group -->   
                        <div class="form-group">
                            <label class="control-label" for="flatpickr-wrap">Date From<abbr Date From="Required">*</abbr></label> 
                            <div class="input-group input-group-alt flatpickr" id="flatpickr9" data-toggle="flatpickr" data-wrap="true" data-alt-input="true" data-alt-format="F j, Y" data-alt-input-class="form-control" data-date-format="Y-m-d" value="" placeholder="DD/MM/YYYY">
                              <input id="flatpickr-wrap" type="text" name="date_from" class="form-control" data-input="">
                              <div class="input-group-append">
                                <button type="button" class="btn btn-secondary" data-toggle=""><i class="far fa-calendar"></i></button> 
                                <button type="button" class="btn btn-secondary" data-clear=""><i class="fa fa-times"></i></button>
                              </div>
                            </div>
                        </div><!-- /.form-group -->   
                        <div class="form-group">
                            <label class="control-label" for="flatpickr-wrap">Expected Completion Date<abbr Expected Completion Date="Required">*</abbr></label> 
                            <div class="input-group input-group-alt flatpickr" id="flatpickr9" data-toggle="flatpickr" data-wrap="true" data-alt-input="true" data-alt-format="F j, Y" data-alt-input-class="form-control" data-date-format="Y-m-d" value="" placeholder="DD/MM/YYYY">
                              <input id="flatpickr-wrap" type="text" name="expected_completion_date" class="form-control" data-input="">
                              <div class="input-group-append">
                                <button type="button" class="btn btn-secondary" data-toggle=""><i class="far fa-calendar"></i></button> 
                                <button type="button" class="btn btn-secondary" data-clear=""><i class="fa fa-times"></i></button>
                              </div>
                            </div>
                        </div><!-- /.form-group -->  
                        <div class="form-group">
                            <label for="tf1">Project Leader (PI) <abbr Project Leader="Required">*</abbr></label> 
                            <input type="text" name="project_leader" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project Leader (PI)"> 
                        </div><!-- /.form-group -->  
                        <!-- .form-group -->
                        <div class="form-group">
                            <label for="tf6">Description <abbr title="Required">*</abbr></label>
                            <textarea name="decription" class="form-control" id="tf6" rows="10" placeholder="Description of the project" required=""></textarea>
                        </div><!-- /.form-group -->
                        <div class="form-group">
                            <label for="tf3">Upload File<abbr title="Required">*</abbr></label>
                            <div class="custom-file">
                              <input type="file" class="custom-file-input" id="tf3"> 
                              <label class="custom-file-label" for="tf3">Choose file</label>
                            </div>
                        </div><!-- /.form-group -->   
                        <div class="form-group">
                            <label for="tf1">Project Member<abbr Project Members ="Required">*</abbr></label> 
                            <input type="text" name="project_members" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project Member"> 
                        </div><!-- /.form-group -->   
                        <div class="form-group" id="text-fields">
                          {% comment %} <label for="tf1">Project Members <abbr Project Members ="Required">*</abbr></label>  {% endcomment %}
                          {% comment %} <input type="text" name="project_members" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project Member">  {% endcomment %}
                      </div><!-- /.form-group -->  
                        <div class="form-group" id="add_project_member">
                            <label class="col-sm-2 control-label no-padding-right"></label>
                            <div class="col-sm-9" style="text-align:center;">
                                <a style="font-size:15px;cursor:pointer;" onclick="displayTextField()"><u><i class="fa fa-plus"></i>Add Project Member</u></a>
                            </div>
                        </div>              
                        <div class="form-group">
                          <label for="tf1">Project Donor<abbr Project Members ="Required">*</abbr></label> 
                          <input type="text" name="project_donors" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project Donor"> 
                      </div><!-- /.form-group -->   
                      <div class="form-group" id="donor-text-fields">
                        
                       </div><!-- /.form-group -->  
                      <div class="form-group" id="add_project_donors">
                          <label class="col-sm-2 control-label no-padding-right"></label>
                          <div class="col-sm-9" style="text-align:center;">
                              <a style="font-size:15px;cursor:pointer;" onclick="displayDonorField()"><u><i class="fa fa-plus"></i>Add Project Donor</u></a>
                          </div>
                      </div>  
                      <div class="form-group">
                        <label for="tf1">Project Partner <abbr Project Members ="Required">*</abbr></label> 
                        <input type="text" name="project_partner" class="form-control" id="tf1" aria-describedby="tf1Help" placeholder="Project Partner"> 
                      </div><!-- /.form-group -->
                      <div class="form-group" id="partner-text-fields">
                        
                      </div><!-- /.form-group -->  
                      <div class="form-group" id="add_project_partner">
                         <label class="col-sm-2 control-label no-padding-right"></label>
                         <div class="col-sm-9" style="text-align:center;">
                             <a style="font-size:15px;cursor:pointer;" onclick="displayPartnerField()"><u><i class="fa fa-plus"></i>Add Project Partner</u></a>
                         </div>
                      </div>                                           
                        <hr class="mb-4">
                        <button class="btn btn-primary btn-lg btn-block" type="submit">Submit</button>
                        </form><!-- /form .needs-validation -->
                        <!-- /form -->
                      </div>
              </div>
<!-- /.card-body -->
            <script>
              let counter = 0;

              function displayTextField() {
                const textField = document.createElement("input");
                textField.type = "text";
                textField.name = "project_members";
                textField.style ="width:100%";
                //textField.placeholder="Project Member";
                document.getElementById("text-fields").appendChild(textField);
                
                counter++;
              }
              function displayDonorField() {
                const textField = document.createElement("input");
                textField.type = "text";
                textField.name = "project_donors";
                textField.style ="width:100%";
                //textField.placeholder="Project Member";
                document.getElementById("donor-text-fields").appendChild(textField);
                
                counter++;
              }
              function displayPartnerField() {
                const textField = document.createElement("input");
                textField.type = "text";
                textField.name = "project_partner";
                textField.style ="width:100%";
                //textField.placeholder="Project Member";
                document.getElementById("partner-text-fields").appendChild(textField);
                
                counter++;
              }
              </script>
            {% comment %} <script>
              function showTextField() {
                var textField = document.getElementById("textfield");
                if (textField.style.display === "none") {
                  textField.style.display = "block";
                } else {
                  textField.style.display = "none";
                }
              }
            </script> {% endcomment %}
<!-- grid row -->
<!-- /.page-section -->
{% endblock %}
</div>
</div>
</div>
